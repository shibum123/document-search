{"version":3,"sources":["components/SearchOverview.jsx","App.js","serviceWorker.js","index.js","assets/axa-logo.png","services/connection.js"],"names":["client","require","SearchOverview","useState","dataList","setDataList","inputField","createRef","useEffect","getElasticSearchData","a","payload","search","index","body","then","resp","hits","err","searchItems","val","query","regexp","title","value","flags","handleMouseClick","map","item","filename","_source","category","create_date","moment","format","content","substring","action","href","className","src","logo","alt","class","type","ref","placeholder","onKeyDown","evt","key","target","aria-label","aria-describedby","onClick","aria-hidden","tableHeaders","prop","sortable","tableBody","tableClassName","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","Client","host","requestTimeout","Infinity","keepAlive"],"mappings":"gRAOMA,EAASC,EAAQ,IAkIRC,EA9HQ,WAAO,IAAD,EACKC,mBAAS,IADd,mBACpBC,EADoB,KACVC,EADU,KAErBC,EAAaC,sBAEnBC,qBAAU,WACRC,MACC,IAIH,IAAMA,EAAoB,uCAAG,wCAAAC,EAAA,sDAAOC,EAAP,+BAAiB,GAC5CX,EACGY,OAAO,CACNC,MAhBU,eAiBVC,KAAMH,IAEPI,MACC,SAAAC,GAEEX,EAAYW,EAAKC,KAAKA,SAExB,SAAAC,OAXuB,2CAAH,qDAiBpBC,EAAc,SAAAC,GAclBX,EAbUW,EACN,CACEC,MAAO,CACLC,OAAQ,CACNC,MAAO,CAELC,MAAO,KAAOJ,EAAM,KACpBK,MAAO,UAKf,KAGAC,EAAmB,WACvBP,EAAYb,EAAWkB,QAgBnBV,EAAOV,EAASuB,KAAI,SAAAC,GACxB,MAAO,CACLC,SACE,0BAAMN,MAAOK,EAAKE,QAAQD,UAAWD,EAAKE,QAAQD,UAEpDE,SAAU,aACVC,YAAaC,IAAOL,EAAKE,QAAQE,aAAaE,OAAO,cACrDC,QACE,0BAAMZ,MAAK,UAAKK,EAAKE,QAAQK,QAAQC,UAAU,EAAG,IAAvC,QACRR,EAAKE,QAAQK,SAGlBE,OACE,uBAAGC,KAAK,IAAIC,UAAU,yBAAtB,aAON,OACE,yBAAKA,UAAU,mBACb,uBAAGA,UAAU,yBACX,yBAAKC,IAAKC,IAAMC,IAAI,cAEtB,uBAAGC,MAAM,0BACP,wBAAIJ,UAAU,+BAAd,oBAEE,0BAAMA,UAAU,kCAAhB,cAIJ,iCACA,yBAAKA,UAAU,uCACb,2BACEK,KAAK,OACLL,UAAU,eACVM,IAAKvC,EACLwC,YAAY,oBACZC,UArDc,SAAAC,GACJ,UAAZA,EAAIC,KACN9B,EAAY6B,EAAIE,OAAO1B,QAoDnB2B,aAAW,oBACXC,mBAAiB,iBAEnB,4BACEb,UAAU,4CACVc,QAAS3B,GAET,uBAAGa,UAAU,eAAee,cAAY,UAE1C,2BACEV,KAAK,SACLL,UAAU,0BACVf,MAAM,SACN6B,QAAS3B,IAEX,2BAAOa,UAAU,0BAAjB,oBAEF,kBAAC,IAAD,CACEgB,aAlES,CACb,CAAEhC,MAAO,YAAaiC,KAAM,WAAYC,UAAU,GAClD,CAAElC,MAAO,WAAYiC,KAAM,YAC3B,CAAEjC,MAAO,eAAgBiC,KAAM,eAC/B,CAAEjC,MAAO,UAAWiC,KAAM,WAC1B,CAAEjC,MAAO,SAAUiC,KAAM,WA8DrBE,UAAW5C,EACX6C,eAAe,+BC5HRC,EAHH,WACX,OAAO,kBAAC,EAAD,OCOYC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzD,MAAK,SAAA0D,GACjCA,EAAaC,iB,sCEnInBC,EAAOC,QAAU,k6E,6ECAjB,IAEM5E,EAAS,IAFOC,EAAQ,IAEG4E,QAAO,CACpCC,KAAM,wBACNC,eAAgBC,IAChBC,WAAW,IAGfN,EAAOC,QAAU5E,I","file":"static/js/main.9973b843.chunk.js","sourcesContent":["import React, { useState, useEffect, createRef } from \"react\";\nimport Datatable from \"react-bs-datatable\";\nimport \"../App.scss\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport moment from \"moment\";\nimport logo from \"../assets/axa-logo.png\";\n\nconst client = require(\"../services/connection.js\");\nconst indexName = \"doc-index-01\";\nlet payload;\n\nconst SearchOverview = () => {\n  const [dataList, setDataList] = useState([]);\n  const inputField = createRef();\n\n  useEffect(() => {\n    getElasticSearchData();\n  }, []);\n\n  // TODO: service module\n  /* istanbul ignore next */\n  const getElasticSearchData = async (payload = \"\") => {\n    client\n      .search({\n        index: indexName,\n        body: payload\n      })\n      .then(\n        resp => {\n          // console.log(resp.hits);\n          setDataList(resp.hits.hits);\n        },\n        err => {\n          // console.log(err.message);\n        }\n      );\n  };\n  /* istanbul ignore next */\n  const searchItems = val => {\n    payload = val\n      ? {\n          query: {\n            regexp: {\n              title: {\n                /* istanbul ignore next */\n                value: \".*\" + val + \".*\",\n                flags: \"ALL\"\n              }\n            }\n          }\n        }\n      : \"\";\n    getElasticSearchData(payload);\n  };\n  const handleMouseClick = () => {\n    searchItems(inputField.value);\n  };\n  const handleKeyDown = evt => {\n    if (evt.key === \"Enter\") {\n      searchItems(evt.target.value);\n    }\n  };\n\n  const header = [\n    { title: \"File Name\", prop: \"filename\", sortable: true },\n    { title: \"Category\", prop: \"category\" },\n    { title: \"Submitted On\", prop: \"create_date\" },\n    { title: \"Perview\", prop: \"content\" },\n    { title: \"Action\", prop: \"action\" }\n  ];\n\n  const body = dataList.map(item => {\n    return {\n      filename: (\n        <span title={item._source.filename}>{item._source.filename}</span>\n      ),\n      category: \"Submission\",\n      create_date: moment(item._source.create_date).format(\"DD-MM-YYYY\"),\n      content: (\n        <span title={`${item._source.content.substring(0, 50)}...`}>\n          {item._source.content}\n        </span>\n      ),\n      action: (\n        <a href=\"#\" className=\"search-overview__link\">\n          Go to\n        </a>\n      )\n    };\n  });\n\n  return (\n    <div className=\"search-overview\">\n      <p className=\"search-overview__logo\">\n        <img src={logo} alt=\"axa logo\" />\n      </p>\n      <p class=\"search-overview__title\">\n        <h3 className=\"search-overview__title-text\">\n          The Search Tool |\n          <span className=\"search-overview__title-version\">&nbsp;V1.0</span>\n        </h3>\n      </p>\n\n      <center></center>\n      <div className=\"input-group search-overview__header\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          ref={inputField}\n          placeholder=\"Enter Search Text\"\n          onKeyDown={handleKeyDown}\n          aria-label=\"Enter Search Text\"\n          aria-describedby=\"basic-addon2\"\n        />\n        <button\n          className=\"search-overview__input input-group-append\"\n          onClick={handleMouseClick}\n        >\n          <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\n        </button>\n        <input\n          type=\"button\"\n          className=\"search-overview__button\"\n          value=\"Search\"\n          onClick={handleMouseClick}\n        />\n        <label className=\"search-overview__label\">Advanced Search</label>\n      </div>\n      <Datatable\n        tableHeaders={header}\n        tableBody={body}\n        tableClassName=\"striped hover responsive\"\n      />\n    </div>\n  );\n};\n\nexport default SearchOverview;\n","import React from \"react\";\nimport \"./App.scss\";\nimport SearchOverview from './components/SearchOverview';\n\nconst App = () => {\n\treturn <SearchOverview/>\n}\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","const elasticsearch = require('elasticsearch');\n\nconst client = new elasticsearch.Client({\n    host: 'http://localhost:9200',\n    requestTimeout: Infinity, // Tested\n    keepAlive: true // Tested\n});\n\nmodule.exports = client;"],"sourceRoot":""}